# =============================================================================
# MediScout Environment Configuration
# =============================================================================
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env:  cp .env.example .env
# 2. Fill in your API keys and email
# 3. Adjust settings as needed for your environment
# 4. NEVER commit the .env file (it's in .gitignore)
#
# =============================================================================

# =============================================================================
# REQUIRED: LLM Provider (OpenRouter)
# =============================================================================
# Get your API key from: https://openrouter.ai/keys
# OpenRouter provides access to many LLMs including free models
OPENROUTER_API_KEY=your_openrouter_api_key_here

# LLM Model Selection
# Default: meta-llama/llama-3.1-70b-instruct:free (powerful but slower)
# Fast alternative: meta-llama/llama-3.2-3b-instruct:free
# See available models: https://openrouter.ai/models
OPENROUTER_MODEL=meta-llama/llama-3.1-70b-instruct:free

# LLM Parameters
LLM_TEMPERATURE=0.7          # Creativity (0.0 = deterministic, 2.0 = very creative)
LLM_MAX_TOKENS=4000          # Max response length
LLM_TIMEOUT_SECONDS=15       # Request timeout in seconds

# =============================================================================
# REQUIRED: PubMed API
# =============================================================================
# NCBI requires an email for PubMed API access (no registration needed)
# This is for rate limiting purposes and is NOT checked for validity
PUBMED_EMAIL=your.email@example.com

# Maximum PubMed results to fetch per query
PUBMED_MAX_RESULTS=10

# =============================================================================
# OPTIONAL: LangSmith (Observability & Tracing)
# =============================================================================
# Get your API key from: https://smith.langchain.com/
# LangSmith provides detailed tracing of LLM calls, agent execution, and debugging
# NOTE: Use LANGCHAIN_ prefix (not LANGSMITH_) for compatibility

# Enable/disable tracing
LANGCHAIN_TRACING_V2=true

# Your LangSmith API key
LANGCHAIN_API_KEY=your_langsmith_api_key_here

# Project name in LangSmith dashboard
LANGCHAIN_PROJECT=mediscout-dev

# LangSmith endpoint (usually don't need to change)
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# =============================================================================
# OPTIONAL: Vector Database (ChromaDB)
# =============================================================================
# Path where ChromaDB will store embedded documents
# Default creates a local directory for persistence
CHROMA_PERSIST_DIR=./data/chroma

# ChromaDB collection name
CHROMA_COLLECTION_NAME=mediscout_docs

# =============================================================================
# OPTIONAL: Embedding Model (Local)
# =============================================================================
# SentenceTransformers model for document embeddings
# Default: all-MiniLM-L6-v2 (fast, 384 dimensions, works on CPU)
# Alternative: all-mpnet-base-v2 (slower but more accurate, 768 dimensions)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Device for embeddings: 'cpu' or 'cuda' (if you have a GPU)
EMBEDDING_DEVICE=cpu

# Batch size for embedding generation (lower if running out of memory)
EMBEDDING_BATCH_SIZE=32

# Embedding dimension (384 for all-MiniLM-L6-v2, 768 for all-mpnet-base-v2)
EMBEDDING_DIMENSION=384

# =============================================================================
# OPTIONAL: Document Processing
# =============================================================================
# Text chunking strategy
CHUNK_SIZE=1000              # Characters per chunk (larger = fewer chunks, faster)
CHUNK_OVERLAP=150            # Overlap between chunks (for context preservation)
MAX_DOCUMENT_SIZE_MB=50      # Maximum file size to process

# =============================================================================
# OPTIONAL: RAG (Retrieval-Augmented Generation) Settings
# =============================================================================
# Number of documents to retrieve per query
TOP_K_RESULTS=5

# Minimum similarity score (0.0 - 1.0, lower = more results)
SIMILARITY_THRESHOLD=0.3

# Enable re-ranking of retrieved documents (improves quality, adds latency)
RERANK_ENABLED=true

# =============================================================================
# OPTIONAL: ClinicalTrials.gov API
# =============================================================================
# Maximum clinical trial results to fetch
CLINICALTRIALS_MAX_RESULTS=5

# =============================================================================
# OPTIONAL: Google Scholar (via SerpAPI)
# =============================================================================
# Get your API key from: https://serpapi.com/
# Required only if you want Google Scholar search capability
SERPAPI_KEY=your_serpapi_key_here
SERPAPI_MAX_RESULTS=5

# =============================================================================
# OPTIONAL: Logging
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (creates directory if it doesn't exist)
LOG_FILE=./logs/mediscout.log

# =============================================================================
# PYTHON ENVIRONMENT (for non-Anaconda users)
# =============================================================================
# If you're NOT using Anaconda, ensure you have:
# - Python 3.11, 3.12, or 3.13 (NOT 3.14+)
# - pip or uv package manager
# 
# Installation commands:
#   pip install --upgrade pip
#   pip install -r requirements.txt
#   pip install -e .
#
# OR with uv (faster):
#   pip install uv
#   uv pip install -r requirements.txt
#   uv pip install -e .
#
# =============================================================================

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================
# [ ] 1. Get OpenRouter API key: https://openrouter.ai/keys
# [ ] 2. Set OPENROUTER_API_KEY above
# [ ] 3. Set PUBMED_EMAIL to your email
# [ ] 4. (Optional) Get LangSmith key: https://smith.langchain.com/
# [ ] 5. (Optional) Set LANGCHAIN_API_KEY and LANGCHAIN_TRACING_V2=true
# [ ] 6. Save this file as .env (not .env.example)
# [ ] 7. Run: python -c "from mediscout.config import get_settings; print('âœ“ Config loaded!')"
# [ ] 8. Run: streamlit run main.py
# =============================================================================
